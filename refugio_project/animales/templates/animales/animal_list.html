{% extends 'base.html' %} 

{% block title %}Animales en Adopci√≥n{% endblock %}

{% block content %}
    <h2>üê∂ Cat√°logo de Animales en Adopci√≥n üê±</h2>
    
    {% if user.is_authenticated %}
        <p>
            <a href="{% url 'animales:crear' %}" style="padding: 5px 10px; background-color: green; color: white; border-radius: 5px; text-decoration: none;">+ Agregar Nuevo Animal</a>
        </p>
    {% endif %}

    {% if animales %}
        <div class="animal-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
            {% for animal in animales %}
                <div class="animal-card" style="border: 1px solid #ddd; padding: 15px; border-radius: 8px; box-shadow: 2px 2px 5px rgba(0,0,0,0.1);">
                    <h3>{{ animal.nombre }} ({{ animal.especie }})</h3>
                    <p>Raza: {{ animal.raza }}</p>
                    
                    {% if animal.foto %}
                        <img src="{{ animal.foto.url }}" alt="Foto de {{ animal.nombre }}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 4px; margin-bottom: 10px;">
                    {% endif %}
                    
                    <p>{{ animal.descripcion|truncatechars:100 }}</p>
                    <a href="{% url 'animales:detalle' pk=animal.pk %}">Ver Detalles y Adoptar ¬ª</a>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>¬°Vaya! Parece que no tenemos ning√∫n animal disponible para adopci√≥n en este momento. Vuelve pronto.</p>
    {% endif %}

{% endblock %}